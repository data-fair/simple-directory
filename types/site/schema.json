{
  "type": "object",
  "$id": "https://github.com/data-fair/simple-directory/site",
  "title": "Site",
  "x-exports": ["types", "stringify", "validate"],
  "required": ["_id", "owner", "host", "theme", "authMode"],
  "properties": {
    "_id": {
      "type": "string"
    },
    "owner": {
      "$ref": "https://github.com/data-fair/lib/session-state#/definitions/account"
    },
    "host": {
      "type": "string"
    },
    "theme": {
      "$ref": "#/definitions/theme"
    },
    "logo": {
      "$ref": "#/definitions/logo"
    },
    "authMode": {
      "default": "ssoBackOffice",
      "$ref": "#/definitions/auth-mode"
    }
  },
  "definitions": {
    "theme": {
      "type": "object",
      "additionalProperties":false,
      "required": ["primaryColor"],
      "properties": {
        "primaryColor": {
          "type": "string"
        }
      }
    },
    "logo": {
      "type": "string"
    },
    "auth-mode": {
      "type": "string",
      "oneOf": [
        { "const": "onlyLocal", "title": "only users created on this site can log in" },
        { "const": "onlyBackOffice", "title": "only users created in the back-office can log in" },
        { "const": "ssoBackOffice", "title": "users can be created on this site, but back-office users can also login through a SSO link"}
      ]
    }
  }
}